<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">


<!-- Mirrored from www.opentk.com/doc/chapter/2/opengl/geometry/attributes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 10 May 2016 13:48:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="prev" href="../../../../graphics/geometry/vertex-buffer-objects.html" />

<link rel="up" href="../../../../graphics/geometry.html" />

<link rel="next" href="../../../../graphics/geometry/vertex-arrays.html" />

<link rel="shortcut icon" href="http://www.opentk.com/sites/all/favicon.ico" type="image/x-icon" />
    <title>3.b Attribute Offsets and Strides | OpenTK</title>
    <!--[if !lt IE 7]> <style type="text/css" media="all">@import "/files/css/0d190fbd13bda50135e2c474ba9cb190.css";</style>
 <![endif]-->
    <!--[if !IE]>--> <style type="text/css" media="all">@import "http://www.opentk.com/files/css/0d190fbd13bda50135e2c474ba9cb190.css";</style>
 <!--<![endif]-->
    <!--[if IE 7]><style type="text/css" media="all">@import "/sites/all/themes/community4/IE67.css";</style><![endif]-->
    </head>

<body class="not-front not-logged-in ntype-book main-sidebar">

    <div id="layer1">
    
        <div id="header-bg">

            <div id="header">
           
                                    <a href="../../../../../index.html"><img src="http://www.opentk.com/sites/all/themes/community3/images/community2_logo.jpg" alt="Home" id="logo" /></a>
                                
                <div id="bg-image"><img src="http://www.opentk.com/sites/all/themes/community2/images/bg-header2.png" width="100%" height="100%" /></div>

                
                                    <h2 class='siteSlogan'>Home of the Open Toolkit library</h2>
                
                
                                  <div class="primary-links-wrapper">
                    <ul class="primary-links" id="navtabs"><li  class="first menu-1-1-2"><a href="../../../../../index.html" title="Return to the OpenTK homepage." class="menu-1-1-2">Home</a></li>
<li  class="menu-1-2-2"><a href="http://www.opentk.com/project/opentk" title="Learn more or download OpenTK." class="menu-1-2-2">Project</a></li>
<li  class="menu-1-3-2"><a href="../../../../../doc.html" title="Read the OpenTK programming guide." class="menu-1-3-2">Documentation</a></li>
<li  class="menu-1-4-2"><a href="http://www.opentk.com/forum/2" title="Discuss OpenTK or ask for help." class="menu-1-4-2">Forum</a></li>
<li  class="menu-1-5-2"><a href="http://www.opentk.com/files/opentk-issues.html" title="View issue reports for OpenTK." class="menu-1-5-2">Issues</a></li>
<li  class="menu-1-6-2"><a href="http://www.opentk.com/blog" title="Read the blogs of OpenTK users." class="menu-1-6-2">Blogs</a></li>
<li  class="menu-1-7-2"><a href="http://www.opentk.com/project/all" title="Search the database of OpenTK projects." class="menu-1-7-2">Gallery</a></li>
<li  class="last menu-1-8-2"><a href="http://www.opentk.com/search" title="Quickly locate content on the site." class="menu-1-8-2">Search</a></li>
</ul>                  </div>
                
            </div>
            
        </div>

        <div id="page" class="clear-block">
            <div id="wrapper" class="clear-block">
                <div id="subwrapper">
                    <div id="container">
                        <div id="content">

                            
                            <div class="content-area">

                                                                    
                                <div class="tabs clear-block">
                                    <div class="breadcrumb"><a href="../../../../../index.html">Home</a> » <a href="../../../../../doc.html" title="What is this all about?">Introduction</a> » <a href="../../../../graphics.html" title="Description of the OpenTK.Graphics namespace, plus a quick OpenGL and OpenGL|ES primer.">Graphics</a> » <a href="../../../../graphics/geometry.html" title="Describes Geometry in OpenGL">Geometry</a></div>                                </div>
                                
                                
                                
                                <div class="node-content-wrapper">

                                    				<div id="node-278" class="node ntype-book clear-block">

	
			<h1 class="title"><a href="attributes.html">3.b Attribute Offsets and Strides</a></h1>    
	
	

    <div class="content">
	    
        <p><b>Setting Strides and Offsets for Vertex Arrays and VBO</b></p>
<p>There are 2 ways to tell OpenGL in which layout the Vertices are stored:</p>
<ol>
<li><b>GL.InterleavedArrays()</b><br />
What GL.InterleavedArrays does is enable/disable the required client states for OpenGL to interpret our passed data, the first parameter tells that we have 2 floats for Texture Coordinates (T2f), 3 floats for Normal (N3F) and 3 floats for position (V3F). The second parameter is the stride that will be jumped to find the second, third, etc. set of texcoord/normal/position values. Since our Vertices are tighly packed, no stride (zero) is correct. The last parameter should point at Indices, but we already sent them to the VBO in video memory, no need to point at them again:</p>
<div class="geshifilter">
<pre class="geshifilter-csharp"><span class="kw3">GL</span>.<span class="me1">InterleavedArrays</span><span class="br0">&#40;</span> InterleavedArrayFormat.<span class="me1">T2fN3fV3f</span>, <span class="nu0">0</span>, <span class="kw1">null</span> <span class="br0">&#41;</span>;</pre></div>
<p>This command has the advantage that it's very obvious to the OpenGL driver what layout of data we have supplied, and it may be possible for the driver to optimize the memory. Remember that GL.InterleavedArrays will change states, if you manually disable EnableCap.VertexArray, EnableCap.NormalArray, EnableCap.TextureCoordArray or changing GL.VertexPointer, GL.NormalPointer or GL.TexCoordPointer (after calling GL.InterleavedArrays and before calling GL.DrawElements) make sure to enable them again or you won't see anything.</li>
<li><b>Setting the offsets/strides manually</b><br />
For the Vertex format InterleavedArrayFormat.T2fN3fV3f, the correct pointer setup is:</p>
<div class="geshifilter">
<pre class="geshifilter-csharp"><span class="kw3">GL</span>.<span class="me1">TexCoordPointer</span><span class="br0">&#40;</span> <span class="nu0">2</span>, TexCoordPointerType.<span class="me1">Float</span>, <span class="nu0">8</span> * <span class="kw1">sizeof</span><span class="br0">&#40;</span> <span class="kw1">float</span> <span class="br0">&#41;</span>, <span class="br0">&#40;</span><span class="kw4">IntPtr</span><span class="br0">&#41;</span> <span class="br0">&#40;</span> <span class="nu0">0</span> <span class="br0">&#41;</span> <span class="br0">&#41;</span>;
<span class="kw3">GL</span>.<span class="me1">NormalPointer</span><span class="br0">&#40;</span> NormalPointerType.<span class="me1">Float</span>, <span class="nu0">8</span> * <span class="kw1">sizeof</span><span class="br0">&#40;</span> <span class="kw1">float</span> <span class="br0">&#41;</span>, <span class="br0">&#40;</span><span class="kw4">IntPtr</span><span class="br0">&#41;</span> <span class="br0">&#40;</span> <span class="nu0">2</span> * <span class="kw1">sizeof</span><span class="br0">&#40;</span> <span class="kw1">float</span> <span class="br0">&#41;</span> <span class="br0">&#41;</span> <span class="br0">&#41;</span>;
<span class="kw3">GL</span>.<span class="me1">VertexPointer</span><span class="br0">&#40;</span> <span class="nu0">3</span>, VertexPointerType.<span class="me1">Float</span>, <span class="nu0">8</span> * <span class="kw1">sizeof</span><span class="br0">&#40;</span> <span class="kw1">float</span> <span class="br0">&#41;</span>, <span class="br0">&#40;</span><span class="kw4">IntPtr</span><span class="br0">&#41;</span> <span class="br0">&#40;</span> <span class="nu0">5</span> * <span class="kw1">sizeof</span><span class="br0">&#40;</span> <span class="kw1">float</span> <span class="br0">&#41;</span> <span class="br0">&#41;</span> <span class="br0">&#41;</span>;</pre></div>
<ol>
<li>The first parameter is the number of components to describe that attribute. For GL.NormalPointer this is always 3 components, but is variable for Texture coordinates and Position (and Color).</li>
<li>The second parameter is the type of the components.</li>
<li>The third parameter is the number of bytes of the Vertex struct. This stride is used to define at which offset the next Vertex begins.</li>
<li>The last parameter indicates the byte offset of the first appearance of the attribute, this makes perfect sense if you recall the layout of our <a href="vertex.html">Vertex struct</a>.</li>
<p> Byte 0-7 are used for the Texture Coordinates, Byte 8-19 for the Normal and Byte 20-31 for the Vertex Position.
</ol>
</li>
</ol>
<div class="book-navigation"><div class="page-links clear-block"><a href="../../../../graphics/geometry/vertex-buffer-objects.html" class="page-previous" title="Go to previous page">‹ 3.a Vertex Buffer Objects</a><a href="../../../../graphics/geometry.html" class="page-up" title="Go to parent page">up</a><a href="../../../../graphics/geometry/vertex-arrays.html" class="page-next" title="Go to next page">3.c Vertex Arrays ›</a></div></div>
        <div class="clear-block"></div>
        
                    <div class="links">
                <ul class="links inline"><li  class="first book_printer"><a href="http://www.opentk.com/book/export/html/278" title="Show a printer-friendly version of this book page and its sub-pages." class="book_printer">Printer-friendly version</a></li>
<li  class="last comment_forbidden"><span class="comment_forbidden"><a href="http://www.opentk.com/user/login?destination=node/278%2523comment-form">Login</a> or <a href="http://www.opentk.com/user/register?destination=node/278%2523comment-form">register</a> to post comments</span></li>
</ul>            </div>
            <br />
        
		
    </div> <!-- content -->

</div> <!-- /#node-278 -->

<div id="comments">
  
</div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                                            <div id="main_supplements">
                        
                            <div class="block-wrapper">

	<div id="block-block-1" class="block block-block">
				<div class="content">
					<div>
		<form action="http://www.opentk.com/user?destination=node%2F278" method="post" id="user-login-form">
			<div class="form-item">
				<input type="text" value="Username" style="color: #777;" maxlength="60" name="name" id="edit-name" size="15" class="form-text required" onfocus="this.select()" />
			</div>
			<div class="form-item">
				<input type="password" value="Password" style="color: #777;" name="pass" id="edit-pass" size="15" class="form-text required" onfocus="this.select()" />
			</div>
                        <div class="form-item"><input type="submit" name="op" id="edit-submit" value="Log in" /></div>
			<div class="item-list">
				<ul>
					<li><a href="http://www.opentk.com/user/register" title="Create account">Create account</a></li>
					<li><a href="http://www.opentk.com/user/password" title="Reset password">Reset password</a></li>
				</ul>
				<input type="hidden" name="form_id" id="edit-user-login" value="user_login" />
			</div>
		</form>
	</div>
		</div>
	</div>

</div>

<div class="block-wrapper">

	<div id="block-blockcache-26" class="block block-blockcache">
					<h4 class="block-title">Commit log</h4>				<div class="content">
			<div class="item-list"><ul><li><a href="https://github.com/opentk/opentk/commit/2e51fe019771f4c70b15bb25b3a560f712a45fbf">Notice of leave</a>
</li><li><a href="https://github.com/opentk/opentk/commit/6ac1c63ff3a35367f78b500e06b2d3ca5bff3a69">Merge pull request #328 from WardBenjamin/develop</a>
</li><li><a href="https://github.com/opentk/opentk/commit/55bd3424179168eb886a853ba16633f65808320a">Fix documentation for NativeWindow.WindowBorder</a>
</li></ul></div><div class="more-link"><a href="http://www.opentk.com/aggregator/sources/1" title="View this feed&#039;s recent news.">more</a></div>		</div>
	</div>

</div>

                            
                        </div>
                                    </div>
		
            </div>
	    
	    
	</div>
	
    </div> <!-- #layer1 -->


    
        <div id="footer">

            
                            <div id="footer-layer">

<p><small>Site design by Stefanos A. Icons courtesy of <a href="http://www.gnome-look.org/content/show.php/GNOME-colors?content=82562">gnome-colors</a>.</small></p>

</div>
                    </div>

        
    
</body>


<!-- Mirrored from www.opentk.com/doc/chapter/2/opengl/geometry/attributes by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 10 May 2016 13:48:30 GMT -->
</html>
